{"remainingRequest":"/home/phobos/authapp/client/authapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/phobos/authapp/client/authapp/src/components/auth/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/phobos/authapp/client/authapp/src/components/auth/login.vue","mtime":1580543702952},{"path":"/home/phobos/authapp/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/phobos/authapp/client/authapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/phobos/authapp/client/authapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/phobos/authapp/client/authapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9naW46IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBsb2dpblVzZXIoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgiL3VzZXIvbG9naW4iLCB0aGlzLmxvZ2luKTsKICAgICAgICAgIGxldCB0b2tlbiA9IHJlc3BvbnNlLmRhdGEudG9rZW47CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiand0IiwgdG9rZW4pOwogICAgICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgICAgIC8vIHN3YWwoIlN1Y2Nlc3MiLCAiTG9naW4gU3VjY2Vzc2Z1bCIsICJzdWNjZXNzIik7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaG9tZSIpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgLy8gc3dhbCgiRXJyb3IiLCAiU29tZXRoaW5nIFdlbnQgV3JvbmciLCAiZXJyb3IiKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZSk7CiAgICAgICAgfQogICAgICB9CiAgfQp9Owo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1\">\n        <form\n          class=\"text-center border border-primary p-5\"\n          style=\"margin-top:70px;height:auto;padding-top:100px !important;\"\n          @submit.prevent=\"loginUser\"\n        >\n          <input\n            type=\"text\"\n            id=\"email\"\n            class=\"form-control mb-5\"\n            placeholder=\"Email\"\n            v-model=\"login.email\"\n          />\n          <!-- Password -->\n          <input\n            type=\"password\"\n            id=\"password\"\n            class=\"form-control mb-5\"\n            placeholder=\"Password\"\n            v-model=\"login.password\"\n          />\n          <p>\n            Dont have an account??<router-link to=\"/register\"\n              >click here</router-link\n            >\n          </p>\n          <!-- Sign in button -->\n          <center>\n            <button class=\"btn btn-primary btn-block w-75 my-4\" type=\"submit\" >\n              Sign in\n            </button>\n          </center>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      login: {\n        email: \"\",\n        password: \"\"\n      }\n    };\n  },\n  methods: {\n    async loginUser() {\n        try {\n          let response = await this.$http.post(\"/user/login\", this.login);\n          let token = response.data.token;\n          localStorage.setItem(\"jwt\", token);\n          if (token) {\n            // swal(\"Success\", \"Login Successful\", \"success\");\n            this.$router.push(\"/home\");\n          }\n        } catch (err) {\n          // swal(\"Error\", \"Something Went Wrong\", \"error\");\n          console.log(err.response);\n        }\n      }\n  }\n};\n</script>\n"]}]}